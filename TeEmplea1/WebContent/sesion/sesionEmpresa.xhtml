<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
	<h:outputStylesheet library ="css" name="sesionEmpresa.css"/>
	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
</h:head> 
<body> 
	<h:form>
		<div class="opciones">
			<div style="text-align:center;">
			<h:commandLink action="/Principal/principal">
			<h:graphicImage value="/img/logo_te_emplea.svg" style="width:190px;height:100px;"/>
			</h:commandLink>
			<hr style="width:210px;height:1px; background-color:#5C6165;border:0;" />
			<h:graphicImage value="/img/company.svg" style="width:125px;height:125px;"/>
			<br/>
			<h:outputText value="Bienvenido" styleClass="bienvenido"/>
			<hr style="width:210px;height:1px; background-color:#5C6165; border:0" />
			<br/>
			</div>
			<p:commandButton value="Mi Cuenta" icon="pi pi-user" action="sesionEmpresa" />
			<p:commandButton value="Postulaciones Recibidas" icon="pi pi-users" action="postulacionesRecibidasEmpresa" />
		</div>
	</h:form>
	<h:form>
		<div class="main">
			<p:toolbar>
				<f:facet name="right">
				<h:outputText value="#{empresaMB.empresa.nombre}" styleClass="textoBarraSuperior"/>
				<span class="ui-separator">
	                <span class="ui-icon pi pi-ellipsis-v" />
	            </span>
				<h:commandLink value="Cerrar Sesión" action="#{sesionMB.cerrarSesion()}" styleClass="textoBarraSuperior"/>
				</f:facet>
			</p:toolbar>
		</div>
	</h:form>
	
	<div class="infoEmpresa">
		<h:panelGrid columns="2">
			<h:outputText value="Informacion de la empresa" styleClass="tituloInfoEmpresa"/>
			<h:outputText/>
			<h:outputText value="Nombre: " styleClass="textInfo"/>
			<h:outputText value="#{empresaMB.empresa.nombre}" styleClass="textInfo"/>
			<h:outputText value="Sector: " styleClass="textInfo"/>
			<h:outputText value="#{empresaMB.empresa.sector}" styleClass="textInfo"/>
			<h:outputText value="Telefono: " styleClass="textInfo"/>
			<h:outputText value="#{empresaMB.empresa.telefono}" styleClass="textInfo"/>
			<h:outputText value="Correo" styleClass="textInfo"/>
			<h:outputText value="#{empresaMB.empresa.correo}" styleClass="textInfo"/>
		</h:panelGrid>
	</div>
	
	<div class="infoPerfil">
		<h:panelGrid columns="1">
			<h:outputText value="Perfil Empresa" styleClass="tituloInfoEmpresa"/>
			<p:inputTextarea rows="13" cols="30" disabled="true" value="#{empresaMB.empresa.perfil}"/>
		</h:panelGrid>
	</div>
	
	<div class="divOfertas">
		<h:panelGrid columns="1">
		<f:facet name="header">
			<h:outputText value="Ofertas laborales" styleClass="tituloOfertas"/>
		</f:facet>
		</h:panelGrid>
	</div>
	
	<h:form>
		<p:growl id="growl" showDetail="true"/>
	<div class="botonAdd">
		<h:panelGrid>
			<p:commandLink action="#{ventanasEmergentesMB.ventanaAgregarOferta()}" update="@form">
				<h:graphicImage value="/img/add.svg" style="width:40px;height:40px;" />
				<p:ajax event="dialogReturn" listener ="#{ofertaLaboralMB.mensajeOfertaAgregada}" update="@form"/>
			</p:commandLink>
		</h:panelGrid>
	</div>
	
	<div class="tablaOfertaLaboral" >
	<h:panelGrid id="dataTableOfertas">
		<h:dataTable var="ofertaFila" value="#{ofertaLaboralMB.listaOfertasLaborales}">
			<h:column headerClass="columnaId">
				<f:facet name="header">
					<h:outputText value="  Id  " styleClass="headerOfertaLaboral"/>
				</f:facet>
				<h:outputText value="#{ofertaFila.idOferta}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Cargo  " styleClass="headerOfertaLaboral"/>
				</f:facet>
				<h:outputText value="#{ofertaFila.cargo}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Area  " styleClass="headerOfertaLaboral"/>
				</f:facet>
				<h:outputText value="#{ofertaFila.area}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Años de experiencia  " styleClass="headerOfertaLaboral"/>
				</f:facet>
					<h:outputText value="#{ofertaFila.aniosExperiencia}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Profesion  " styleClass="headerOfertaLaboral"/>
				</f:facet>
					<h:outputText value="#{ofertaFila.profesion}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Nivel de Estudios  " styleClass="headerOfertaLaboral"/>
				</f:facet>
					<h:outputText value="#{ofertaFila.nivelEstudios}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Tipo contrato  " styleClass="headerOfertaLaboral"/>
				</f:facet>
					<h:outputText value="#{ofertaFila.tipoContrato}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column headerClass="columnas">
				<f:facet name="header">
					<h:outputText value="  Tipo contrato  " styleClass="headerOfertaLaboral"/>
				</f:facet>
					<h:outputText value="#{ofertaFila.salario}" styleClass="contenidoOfertaLaboral"/>
			</h:column>
			
			<h:column >
				<f:facet name="header">
					<h:outputText styleClass="headerInfoAcademica"/>
				</f:facet>
					<h:commandLink>
						<h:graphicImage value="/img/edit.svg" style="width:50px;height:50px;"/>
					 			
					</h:commandLink>
			</h:column>
			
			<h:column>
				<f:facet name="header">
					<h:outputText value="" styleClass="headerOfertaLaboral"/>
				</f:facet>
					<p:commandLink action="#{ofertaLaboralMB.eliminarOfertaLaboral()}" update="@form">
						<h:graphicImage value="/img/delete.svg" style="width:50px;height:50px;"/>
						<f:setPropertyActionListener value="#{ofertaFila.idOferta}" target="#{ofertaLaboralMB.idOfertaAEliminar}"/>
						 <p:confirm header="Confirmación" message="¿Está Seguro?"/>
					</p:commandLink>
					<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
       				 	<p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" update="@form" />
       				 	<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" />
   					 </p:confirmDialog>   
			</h:column>
		
		</h:dataTable>
		
		
		</h:panelGrid>
	
	</div>
	</h:form>
</body> 
</html>
